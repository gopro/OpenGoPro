Presets
=======

The camera organizes many modes of operation into Presets.

Depending on the camera's state, different collections of presets will be available for immediate loading and use.
Below is a table of settings that affect the current preset collection and thereby which presets can be loaded

=== ====================================================
ID  Setting
=== ====================================================
162 :operation:ref:`Max Lens<Setting 162>`
173 :operation:ref:`Video Performance Mode<Setting 173>`
175 :operation:ref:`Controls<Setting 175>`
177 :operation:ref:`Enable Night Photo<Setting 177>`
180 :operation:ref:`Video Mode<Setting 180>`
186 :operation:ref:`Video Mode<Setting 186>`
187 :operation:ref:`Lapse Mode<Setting 187>`
189 :operation:ref:`Max Lens Mod<Setting 189>`
190 :operation:ref:`Max Lens Mod Enable<Setting 190>`
191 :operation:ref:`Photo Mode<Setting 191>`
=== ====================================================

Preset Groups
-------------

Presets are organized into Preset Groups.

To find the currently available Presets / Preset Groups, use :operation:ref:`Get Available Presets`

Preset Modified Status
----------------------

:operation:ref:`Status 98` returns the camera's Preset Modified Status value.

The value of this status is set to zero when the client sends a Get Preset Status message to the camera.

The value of this status is set to a non-zero value when:

- Preset settings submenu is exited in the camera UI (whether any settings were changed or not)
- A new preset is created
- A preset is deleted
- Preset ordering is changed within a preset group
- A preset is reset to factory defaults


Operations
----------

.. operation:protobuf:: Get Available Presets
    :operation-id: OGP_PRESETS_GET
    :external:

    .. operation:protobuf-message:: request
        :feature-id: 0xF5
        :action-id: 0x72
        :uuid: Query
        :message: WSDK_RequestGetPresetStatus

    .. operation:protobuf-message:: response
        :feature-id: 0xF5
        :action-id: 0xF2
        :uuid: Query Response
        :message: WSDK_NotifyPresetStatus

    .. operation:protobuf-message:: notification
        :feature-id: 0xF5
        :action-id: 0xF3
        :uuid: Query Response
        :message: WSDK_NotifyPresetStatus

.. operation:tlv-command:: Load Preset
   :operation-id: GPCAMERA_SET_PRESET
   :external:
   :id: 0x40

   Load preset by ID. The ID must be found from :operation:ref:`Get Available Presets`

   .. operation:tlv-message:: Request
      :uuid: Command
      :params:
            - preset (uint32): preset ID
   .. operation:tlv-message:: Response
      :uuid: Command Response


.. operation:tlv-command:: Load Preset Group
   :operation-id: OGP_PRESET_SET_GROUP
   :external:
   :id: 0x3E

   The available group ID values can be found in :ref:`proto-enumpresetgroup`

   .. operation:tlv-message:: Request
      :uuid: Command
      :params:
            - preset (uint32): preset group ID
   .. operation:tlv-message:: Response
      :uuid: Command Response

.. operation:protobuf:: Update Custom Preset
   :operation-id: GPCAMERA_CUSTOM_PRESET_UPDATE
   :external:

    .. operation:protobuf-message:: request
        :feature-id: 0xF1
        :action-id: 0x64
        :uuid: Command
        :message: WSDK_RequestCustomPresetUpdate

    .. operation:protobuf-message:: response
        :feature-id: 0xF1
        :action-id: 0xE4
        :uuid: Command Response
        :message: ResponseGeneric
