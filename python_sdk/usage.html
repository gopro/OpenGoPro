<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; Open GoPro Python SDK  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="_static/autodoc_pydantic.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="api.html" />
    <link rel="prev" title="QuickStart Guide" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Open GoPro Python SDK
          </a>
              <div class="version">
                0.19.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">QuickStart Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#asyncio">Asyncio</a></li>
<li class="toctree-l2"><a class="reference internal" href="#opening">Opening</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wireless-opening">Wireless Opening</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wired-opening">Wired Opening</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-opening">Common Opening</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#api-version">API Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="#camera-readiness">Camera Readiness</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sending-messages">Sending Messages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#selecting-parameters">Selecting Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#synchronous-data-operations">Synchronous Data Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#commands">Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#statuses">Statuses</a></li>
<li class="toctree-l4"><a class="reference internal" href="#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#asynchronous-push-notifications">Asynchronous Push Notifications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#handling-responses">Handling Responses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#response-structure">Response Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-access">Data Access</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#closing">Closing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_work.html">Future Work</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Open GoPro Python SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Usage</li>
      <li class="wy-breadcrumbs-aside">
              <!-- User defined GitHub URL -->
              <a href="https://github.com/gopro/OpenGoPro/tree/main/demos/python/sdk_wireless_camera_control" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h1>
<p>This section will describe some high level information of how to use the Open GoPro module. For more detailed
information, see the <a class="reference internal" href="api.html#api-reference"><span class="std std-ref">Interfaces</span></a> section. For just running the demos, see the
<a class="reference internal" href="quickstart.html#quickstart-guide"><span class="std std-ref">QuickStart</span></a> section.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>There are two top-level interfaces to communicate with a GoPro camera:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="api.html#open_gopro.gopro_wired.WiredGoPro" title="open_gopro.gopro_wired.WiredGoPro"><code class="xref py py-class docutils literal notranslate"><span class="pre">WiredGoPro</span></code></a> to communicate with the GoPro via USB HTTP</p></li>
<li><p><a class="reference internal" href="api.html#open_gopro.gopro_wireless.WirelessGoPro" title="open_gopro.gopro_wireless.WirelessGoPro"><code class="xref py py-class docutils literal notranslate"><span class="pre">WirelessGoPro</span></code></a> to communicate with the GoPro via BLE and optionally WiFi HTTP</p></li>
</ul>
</div></blockquote>
<p>An individual instance of one of the above classes corresponds to a (potentially not yet) connected GoPro
camera resource. The general procedure to communicate with the GoPro is:</p>
<ol class="arabic simple">
<li><p>Identify and <a class="reference internal" href="#opening"><span class="std std-ref">open</span></a> the connection to the target GoPro</p></li>
<li><p><a class="reference internal" href="#sending-messages"><span class="std std-ref">Send Messages</span></a> and <a class="reference internal" href="#handling-responses"><span class="std std-ref">Receive Responses</span></a> via BLE / HTTP</p></li>
<li><p>Gracefully <a class="reference internal" href="#closing"><span class="std std-ref">close</span></a> the connection with the GoPro</p></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>There is a lot of useful logging throughout the Open GoPro package. See
<a class="reference internal" href="troubleshooting.html#troubleshooting"><span class="std std-ref">troubleshooting</span></a> for more info.</p>
</div>
</section>
<section id="asyncio">
<h2>Asyncio<a class="headerlink" href="#asyncio" title="Link to this heading"></a></h2>
<p>This package is <a class="reference external" href="https://docs.python.org/3/library/asyncio.html">asyncio</a>-based which means that its awaitable
methods need to be called from an async coroutine. For the code snippets throughout this documentation, assume that this
is accomplished in the same manner as the demo scripts provided:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Put our code here</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="opening">
<h2>Opening<a class="headerlink" href="#opening" title="Link to this heading"></a></h2>
<p>Before communicating with a camera, the camera resource must be “opened”. This can be done either with or without
the context manager. See the below sections for opening information specific to Wired / Wireless.</p>
<section id="wireless-opening">
<h3>Wireless Opening<a class="headerlink" href="#wireless-opening" title="Link to this heading"></a></h3>
<p>The Wireless GoPro client can be opened either with the context manager:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">open_gopro</span><span class="w"> </span><span class="kn">import</span> <span class="n">WirelessGoPro</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Yay! I&#39;m connected via BLE, Wifi, opened, and ready to send / get data now!&quot;</span><span class="p">)</span>
    <span class="c1"># Send some messages now</span>
</pre></div>
</div>
<p>...or without the context manager:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">open_gopro</span><span class="w"> </span><span class="kn">import</span> <span class="n">WirelessGoPro</span>

<span class="n">gopro</span> <span class="o">=</span> <span class="n">WirelessGoPro</span><span class="p">()</span>
<span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Yay! I&#39;m connected via BLE, Wifi, opened, and ready to send / get data now!&quot;</span><span class="p">)</span>
<span class="c1"># Send some messages now</span>
</pre></div>
</div>
<p>In either case, the following will have occurred before the camera is ready to communicate:</p>
<ol class="arabic simple">
<li><p>scan for camera</p></li>
<li><p>connect to camera via BLE</p></li>
<li><p>enable notifications</p></li>
<li><p>pair (if needed)</p></li>
<li><p>discover characteristics</p></li>
<li><p>initialize (register for internal status notifications)</p></li>
<li><p>discover Open GoPro version</p></li>
<li><p>connect via WiFi (unless specified not to via argument)</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While a BLE connection is always needed, the WiFi connection is optional. To configure this (and other
instance arguments) see the API Reference for <a class="reference internal" href="api.html#open_gopro.gopro_wireless.WirelessGoPro" title="open_gopro.gopro_wireless.WirelessGoPro"><code class="xref py py-class docutils literal notranslate"><span class="pre">WirelessGoPro</span></code></a></p>
</div>
</section>
<section id="wired-opening">
<h3>Wired Opening<a class="headerlink" href="#wired-opening" title="Link to this heading"></a></h3>
<p>The Wired GoPro client can be opened either with the context manager:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">open_gopro</span><span class="w"> </span><span class="kn">import</span> <span class="n">WiredGoPro</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">WiredGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Yay! I&#39;m connected via USB, opened, and ready to send / get data now!&quot;</span><span class="p">)</span>
    <span class="c1"># Send some messages now</span>
</pre></div>
</div>
<p>...or without the context manager:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">open_gopro</span><span class="w"> </span><span class="kn">import</span> <span class="n">WiredGoPro</span>

<span class="n">gopro</span> <span class="o">=</span> <span class="n">WiredGoPro</span><span class="p">()</span>
<span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Yay! I&#39;m connected via USB, opened, and ready to send / get data now!&quot;</span><span class="p">)</span>
<span class="c1"># Send some messages now</span>
</pre></div>
</div>
<p>If, as above,  an identifier is not passed to the <cite>WiredGoPro</cite>, the mDNS server will be queried during opening to search
for a connected GoPro.</p>
</section>
<section id="common-opening">
<h3>Common Opening<a class="headerlink" href="#common-opening" title="Link to this heading"></a></h3>
<p>The GoPro’s state can be checked via several properties.</p>
<ul class="simple">
<li><p><a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.is_ble_connected" title="open_gopro.gopro_base.GoProBase.is_ble_connected"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_ble_connected()</span></code></a></p></li>
<li><p><a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.is_http_connected" title="open_gopro.gopro_base.GoProBase.is_http_connected"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_http_connected()</span></code></a></p></li>
<li><p><a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.is_open" title="open_gopro.gopro_base.GoProBase.is_open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_open()</span></code></a></p></li>
</ul>
<section id="api-version">
<h4>API Version<a class="headerlink" href="#api-version" title="Link to this heading"></a></h4>
<p>One of the steps during the opening sequence is to query the camera’s Open GoPro API version. This SDK only
supports Open GoPro API Version 2.0 so will raise an <cite>InvalidOpenGoProVersion</cite> if the connected camera is
using anything else.</p>
<p>The version string can be accessed via the <a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.version" title="open_gopro.gopro_base.GoProBase.version"><code class="xref py py-meth docutils literal notranslate"><span class="pre">version()</span></code></a> property.</p>
</section>
<section id="camera-readiness">
<h4>Camera Readiness<a class="headerlink" href="#camera-readiness" title="Link to this heading"></a></h4>
<p>A message can not be sent to the camera if it is not ready where “ready” is defined as not encoding and not
busy. These two states are managed automatically by the <cite>WirelessGoPro</cite> instance such that a call to any
message will block until the camera is ready. They are combined into the following ready state:</p>
<ul class="simple">
<li><p><a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.is_ready" title="open_gopro.gopro_base.GoProBase.is_ready"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_ready()</span></code></a></p></li>
</ul>
<p>For example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="c1"># A naive check for it to be ready</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">is_ready</span><span class="p">:</span>
        <span class="k">pass</span>
</pre></div>
</div>
<p>To reiterate…it is not needed or recommended to worry about this as the internal state is managed automatically
by the <cite>WirelessGoPro</cite> instance. Just know that most commands will be (asynchronously) blocked until the camera is ready.</p>
</section>
</section>
</section>
<section id="sending-messages">
<h2>Sending Messages<a class="headerlink" href="#sending-messages" title="Link to this heading"></a></h2>
<p>Once a <cite>WirelessGoPro</cite> or <cite>WiredGoPro</cite> instance has been <a class="reference internal" href="#opening"><span class="std std-ref">opened</span></a>, it is now possible to send
messages to the camera (provided that the camera is <a class="reference internal" href="#camera-readiness"><span class="std std-ref">ready</span></a>).  Messages are accessed
by transport protocol where the superset of message groups are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Message Group</p></th>
<th class="head"><p>WiredGoPro</p></th>
<th class="head"><p>WirelessGoPro (WiFi Enabled)</p></th>
<th class="head"><p>WirelessGoPro (WiFi Disabled)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.http_command" title="open_gopro.gopro_base.GoProBase.http_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">http_command()</span></code></a></p></td>
<td><p>✔️</p></td>
<td><p>✔️</p></td>
<td><p>❌</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.http_setting" title="open_gopro.gopro_base.GoProBase.http_setting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">http_setting()</span></code></a></p></td>
<td><p>✔️</p></td>
<td><p>✔️</p></td>
<td><p>❌</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.ble_command" title="open_gopro.gopro_base.GoProBase.ble_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ble_command()</span></code></a></p></td>
<td><p>❌</p></td>
<td><p>✔️</p></td>
<td><p>✔️</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.ble_setting" title="open_gopro.gopro_base.GoProBase.ble_setting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ble_setting()</span></code></a></p></td>
<td><p>❌</p></td>
<td><p>✔️</p></td>
<td><p>✔️</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api.html#open_gopro.gopro_base.GoProBase.ble_status" title="open_gopro.gopro_base.GoProBase.ble_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ble_status()</span></code></a></p></td>
<td><p>❌</p></td>
<td><p>✔️</p></td>
<td><p>✔️</p></td>
</tr>
</tbody>
</table>
<p>In the case where a given group of messages is not supported, a <cite>NotImplementedError</cite> will be returned when
the relevant property is accessed.</p>
<p>All messages are communicated via one of two strategies:</p>
<ul class="simple">
<li><p>Performing synchronous <a class="reference internal" href="#synchronous-data-operations"><span class="std std-ref">data operations</span></a> to send a message and receive a GoPro Response</p></li>
<li><p>Registering for <a class="reference internal" href="#asynchronous-push-notifications"><span class="std std-ref">asynchronous push notifications</span></a> and getting these after they are enqueued</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the remainder of this document, the term (a)synchronous is in the context of communication with the camera.
Do not confuse this with <cite>asyncio</cite>: all operations from the user’s perspective are awaitable.</p>
</div>
<p>Both of these patterns will be expanded upon below. But first, a note on selecting parameters for use with messages…</p>
<section id="selecting-parameters">
<h3>Selecting Parameters<a class="headerlink" href="#selecting-parameters" title="Link to this heading"></a></h3>
<p>Whenever a parameter is required for a message, it will be type-hinted in the method definition as either a standard Python type
or an Enum from the <a class="reference internal" href="api.html#constants"><span class="std std-ref">constants</span></a> module.</p>
<p>Here is a full example for clarity:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">open_gopro</span><span class="w"> </span><span class="kn">import</span> <span class="n">WirelessGoPro</span><span class="p">,</span> <span class="n">Params</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_command</span><span class="o">.</span><span class="n">set_shutter</span><span class="p">(</span><span class="n">shutter</span><span class="o">=</span><span class="n">constants</span><span class="o">.</span><span class="n">Toggle</span><span class="o">.</span><span class="n">ENABLE</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The message signature can also be found from the API Reference. For example, here is the documentation
of the above message: <a class="reference internal" href="api.html#open_gopro.api.ble_commands.BleCommands.set_shutter" title="open_gopro.api.ble_commands.BleCommands.set_shutter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_shutter()</span></code></a></p>
</div>
</section>
<section id="synchronous-data-operations">
<h3>Synchronous Data Operations<a class="headerlink" href="#synchronous-data-operations" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unless explicitly specified in the <a class="reference internal" href="#asynchronous-push-notifications"><span class="std std-ref">Asynchronous</span></a> section,
all messages are synchronous messages.</p>
</div>
<p>This section refers to sending commands, getting settings / statuses, and setting settings. In all cases here,
the method will await until a <a class="reference internal" href="#handling-responses"><span class="std std-ref">response</span></a> is received.</p>
<section id="commands">
<h4>Commands<a class="headerlink" href="#commands" title="Link to this heading"></a></h4>
<p>Commands are callable instance attributes of a Messages class instance
(i.e. <a class="reference internal" href="api.html#open_gopro.api.ble_commands.BleCommands" title="open_gopro.api.ble_commands.BleCommands"><code class="xref py py-class docutils literal notranslate"><span class="pre">BleCommands</span></code></a> or
<a class="reference internal" href="api.html#open_gopro.api.http_commands.HttpCommands" title="open_gopro.api.http_commands.HttpCommands"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpCommands</span></code></a>), thus they can be called directly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_command</span><span class="o">.</span><span class="n">set_shutter</span><span class="p">(</span><span class="n">shutter</span><span class="o">=</span><span class="n">Params</span><span class="o">.</span><span class="n">Toggle</span><span class="o">.</span><span class="n">ENABLE</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">http_command</span><span class="o">.</span><span class="n">set_shutter</span><span class="p">(</span><span class="n">shutter</span><span class="o">=</span><span class="n">Params</span><span class="o">.</span><span class="n">Toggle</span><span class="o">.</span><span class="n">DISABLE</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Most commands specifically require <a class="reference external" href="https://peps.python.org/pep-3102/">keyword-only arguments</a>. You can
not optionally use positional arguments in such cases as this will affect functionality.</p>
</div>
</section>
<section id="statuses">
<h4>Statuses<a class="headerlink" href="#statuses" title="Link to this heading"></a></h4>
<p>Statuses are instances of a BleStatus(<a class="reference internal" href="api.html#open_gopro.api.builders.BleStatusFacade" title="open_gopro.api.builders.BleStatusFacade"><code class="xref py py-class docutils literal notranslate"><span class="pre">BleStatusFacade</span></code></a>). They can be read
synchronously using their <cite>get_value</cite> method as such:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">is_encoding</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_status</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
    <span class="n">battery</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_status</span><span class="o">.</span><span class="n">internal_battery_percentage</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
</pre></div>
</div>
<p>It is also possible to read all statuses at once via:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">statuses</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_command</span><span class="o">.</span><span class="n">get_camera_statuses</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>HTTP can not access individual statuses. Instead it can use
<a class="reference internal" href="api.html#open_gopro.api.http_commands.HttpCommands.get_camera_state" title="open_gopro.api.http_commands.HttpCommands.get_camera_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_camera_state()</span></code></a>
to retrieve all of them (as well as all of the settings) at once</p>
</div>
</section>
<section id="settings">
<h4>Settings<a class="headerlink" href="#settings" title="Link to this heading"></a></h4>
<p>Settings are instances of a BleSetting(<a class="reference internal" href="api.html#open_gopro.api.builders.BleSettingFacade" title="open_gopro.api.builders.BleSettingFacade"><code class="xref py py-class docutils literal notranslate"><span class="pre">BleSettingFacade</span></code></a>)
or HttpSetting(<a class="reference internal" href="api.html#open_gopro.api.builders.HttpSetting" title="open_gopro.api.builders.HttpSetting"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpSetting</span></code></a>). They can be interacted synchronously in several
ways.</p>
<p>Their values can be read (via BLE only) using the <cite>get_value</cite> method as such:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">resolution</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">video_resolution</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
    <span class="n">fov</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">video_lens</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
</pre></div>
</div>
<p>It is also possible to read all settings at once via:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_command</span><span class="o">.</span><span class="n">get_camera_settings</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>HTTP can not access individual settings. Instead it can use
<a class="reference internal" href="api.html#open_gopro.api.http_commands.HttpCommands.get_camera_state" title="open_gopro.api.http_commands.HttpCommands.get_camera_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_camera_state()</span></code></a>
to retrieve all of them (as well as all of the statuses) at once.</p>
</div>
<p>Depending on the camera’s current state, settings will have differing capabilities. It is possible to query
the current capabilities for a given setting (via BLE only) using the <cite>get_capabilities_values</cite> method as such:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">capabilities</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">video_resolution</span><span class="o">.</span><span class="n">get_capabilities_values</span><span class="p">()</span>
</pre></div>
</div>
<p>Settings’ values can be set (via either BLE or WiFI) using the <cite>set</cite> method as such:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">video_resolution</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">VideoResolution</span><span class="o">.</span><span class="n">NUM_4K</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">http_setting</span><span class="o">.</span><span class="n">video_lens</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">VideoLens</span><span class="o">.</span><span class="n">LINEAR</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="asynchronous-push-notifications">
<h3>Asynchronous Push Notifications<a class="headerlink" href="#asynchronous-push-notifications" title="Link to this heading"></a></h3>
<p>This section describes how to register for and handle asynchronous push notifications. This is only relevant for BLE.</p>
<p>It is possible to enable push notifications for any of the following:</p>
<ul class="simple">
<li><p>setting values via <a class="reference internal" href="api.html#open_gopro.api.builders.BleSettingFacade.register_value_update" title="open_gopro.api.builders.BleSettingFacade.register_value_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_value_update()</span></code></a></p></li>
<li><p>setting capabilities via <a class="reference internal" href="api.html#open_gopro.api.builders.BleSettingFacade.register_capability_update" title="open_gopro.api.builders.BleSettingFacade.register_capability_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_capability_update()</span></code></a></p></li>
<li><p>status values via <a class="reference internal" href="api.html#open_gopro.api.builders.BleStatusFacade.register_value_update" title="open_gopro.api.builders.BleStatusFacade.register_value_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_value_update()</span></code></a></p></li>
</ul>
<p>Firstly, the desired settings / ID must be registered for and given a callback to handle received notifications.</p>
<p><a class="reference internal" href="api.html#open_gopro.communicator_interface.BaseGoProCommunicator.register_update" title="open_gopro.communicator_interface.BaseGoProCommunicator.register_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_update()</span></code></a>.</p>
<p>Once registered, the camera will send a push notification when the relevant setting / status changes. These
responses will then be sent to the registered callback for handling.</p>
<p>It is possible to stop receiving notifications by issuing the relevant unregister command, i.e.:</p>
<ul class="simple">
<li><p>setting values via <a class="reference internal" href="api.html#open_gopro.api.builders.BleSettingFacade.unregister_value_update" title="open_gopro.api.builders.BleSettingFacade.unregister_value_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unregister_value_update()</span></code></a></p></li>
<li><p>setting capabilities via <a class="reference internal" href="api.html#open_gopro.api.builders.BleSettingFacade.unregister_capability_update" title="open_gopro.api.builders.BleSettingFacade.unregister_capability_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unregister_capability_update()</span></code></a></p></li>
<li><p>status values via <a class="reference internal" href="api.html#open_gopro.api.builders.BleStatusFacade.unregister_value_update" title="open_gopro.api.builders.BleStatusFacade.unregister_value_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unregister_value_update()</span></code></a></p></li>
</ul>
<p>Here is an example of registering for and receiving FOV updates:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">process_battery_notifications</span><span class="p">(</span><span class="n">update</span><span class="p">:</span> <span class="n">types</span><span class="o">.</span><span class="n">UpdateType</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">update</span> <span class="o">==</span> <span class="n">constants</span><span class="o">.</span><span class="n">StatusId</span><span class="o">.</span><span class="n">INTERNAL_BATTERY_PERCENTAGE</span><span class="p">:</span>
        <span class="o">...</span>
    <span class="k">elif</span> <span class="n">update</span> <span class="o">==</span> <span class="n">constants</span><span class="o">.</span><span class="n">StatusId</span><span class="o">.</span><span class="n">INTERNAL_BATTERY_BARS</span><span class="p">:</span>
        <span class="o">...</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_status</span><span class="o">.</span><span class="n">internal_battery_percentage</span><span class="o">.</span><span class="n">register_value_update</span><span class="p">(</span><span class="n">process_battery_notifications</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_status</span><span class="o">.</span><span class="n">internal_battery_bars</span><span class="o">.</span><span class="n">register_value_update</span><span class="p">(</span><span class="n">process_battery_notifications</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <cite>register_XXX_update</cite> methods also return the current value / capabilities.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The coupling of command ID to command is not obvious. This is a temporary solution and will be improved upon
in a future release.</p>
</div>
<p>It is also possible to register / unregister for <strong>all</strong> settings, statuses, and / or capabilities
via one API call using the following commands:</p>
<ul class="simple">
<li><p>register for all setting notifications via <a class="reference internal" href="api.html#open_gopro.api.ble_commands.BleCommands.register_for_all_settings" title="open_gopro.api.ble_commands.BleCommands.register_for_all_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_for_all_settings()</span></code></a></p></li>
<li><p>register for all status notifications via <a class="reference internal" href="api.html#open_gopro.api.ble_commands.BleCommands.register_for_all_statuses" title="open_gopro.api.ble_commands.BleCommands.register_for_all_statuses"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_for_all_statuses()</span></code></a></p></li>
<li><p>register for all capability notifications via <a class="reference internal" href="api.html#open_gopro.api.ble_commands.BleCommands.register_for_all_capabilities" title="open_gopro.api.ble_commands.BleCommands.register_for_all_capabilities"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_for_all_capabilities()</span></code></a></p></li>
<li><p>unregister for all setting notifications via <a class="reference internal" href="api.html#open_gopro.api.ble_commands.BleCommands.unregister_for_all_settings" title="open_gopro.api.ble_commands.BleCommands.unregister_for_all_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unregister_for_all_settings()</span></code></a></p></li>
<li><p>unregister for all status notifications via <a class="reference internal" href="api.html#open_gopro.api.ble_commands.BleCommands.unregister_for_all_statuses" title="open_gopro.api.ble_commands.BleCommands.unregister_for_all_statuses"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unregister_for_all_statuses()</span></code></a></p></li>
<li><p>unregister for all capability notifications via <a class="reference internal" href="api.html#open_gopro.api.ble_commands.BleCommands.unregister_for_all_capabilities" title="open_gopro.api.ble_commands.BleCommands.unregister_for_all_capabilities"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unregister_for_all_capabilities()</span></code></a></p></li>
</ul>
</section>
</section>
<section id="handling-responses">
<h2>Handling Responses<a class="headerlink" href="#handling-responses" title="Link to this heading"></a></h2>
<p>Unless otherwise stated, all commands, settings, and status operations return a <cite>GoProResp</cite>
(<a class="reference internal" href="api.html#open_gopro.models.response.GoProResp" title="open_gopro.models.response.GoProResp"><code class="xref py py-class docutils literal notranslate"><span class="pre">GoProResp</span></code></a>) which is a container around a JSON serializable dict with some helper
functions.</p>
<section id="response-structure">
<h3>Response Structure<a class="headerlink" href="#response-structure" title="Link to this heading"></a></h3>
<p>A <cite>GoProResp</cite> has the following relevant attributes / properties for the end user:</p>
<ul>
<li><div class="line-block">
<div class="line"><a class="reference internal" href="api.html#open_gopro.models.response.GoProResp.identifier" title="open_gopro.models.response.GoProResp.identifier"><code class="xref py py-meth docutils literal notranslate"><span class="pre">identifier()</span></code></a>: identifier of the completed operation.</div>
<div class="line">This will vary based on what type the response is and will also contain the most specific identification information.</div>
</div>
<blockquote>
<div><ul class="simple">
<li><p>UUID if a direct BLE characteristic read</p></li>
<li><p>CmdId if an Open GoPro BLE Operation</p></li>
<li><p>endpoint string if a Wifi HTTP operation</p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="api.html#open_gopro.models.response.GoProResp.protocol" title="open_gopro.models.response.GoProResp.protocol"><code class="xref py py-meth docutils literal notranslate"><span class="pre">protocol()</span></code></a>: the communication protocol where the response was received</p></li>
<li><p><a class="reference internal" href="api.html#open_gopro.models.response.GoProResp.status" title="open_gopro.models.response.GoProResp.status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">status()</span></code></a>: the status returned from the camera</p></li>
<li><p><a class="reference internal" href="api.html#open_gopro.models.response.GoProResp.data" title="open_gopro.models.response.GoProResp.data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">data()</span></code></a>: JSON serializable dict containing the responded data</p></li>
<li><p><a class="reference internal" href="api.html#open_gopro.models.response.GoProResp.ok" title="open_gopro.models.response.GoProResp.ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ok()</span></code></a>: Is this a successful response?</p></li>
</ul>
<p>The response object can be serialized to a JSON string with the default Python <cite>str()</cite> function. Note that
the <cite>identifier</cite> and <cite>status</cite> attributes are appended to the JSON.</p>
<p>For example, first let’s connect, send a command, and print the repsonse:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">video_resolution</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
<p>This prints as:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">    &quot;id&quot; : &quot;QueryCmdId.GET_SETTING_VAL&quot;,</span>
<span class="go">    &quot;status&quot; : &quot;ErrorCode.SUCCESS&quot;,</span>
<span class="go">    &quot;protocol&quot; : &quot;Protocol.BLE&quot;,</span>
<span class="go">    &quot;data&quot; : &quot;VideoResolution.NUM_4K&quot;,</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Now let’s inspect the responses various attributes / properties:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">protocol</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>which prints as:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">QueryCmdId.GET_SETTING_VAL</span>
<span class="go">ErrorCode.SUCCESS</span>
<span class="go">Protocol.BLE</span>
<span class="go">VideoResolution.NUM_4</span>
</pre></div>
</div>
</section>
<section id="data-access">
<h3>Data Access<a class="headerlink" href="#data-access" title="Link to this heading"></a></h3>
<p>The response data is stored in the <cite>data</cite> attribute (<a class="reference internal" href="api.html#open_gopro.models.response.GoProResp.data" title="open_gopro.models.response.GoProResp.data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">data()</span></code></a>) and its type
is specified via the Generic type specified in the corresponding command signature where the response is defined.</p>
<p>For example, consider <a class="reference internal" href="api.html#open_gopro.api.ble_commands.BleCommands.get_hardware_info" title="open_gopro.api.ble_commands.BleCommands.get_hardware_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_hardware_info()</span></code></a>. It’s signature is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_hardware_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GoProResp</span><span class="p">[</span><span class="n">CameraInfo</span><span class="p">]:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Therefore, its response’s <cite>data</cite> property is of type <a class="reference internal" href="api.html#open_gopro.models.general.CameraInfo" title="open_gopro.models.general.CameraInfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CameraInfo()</span></code></a>. Continuing the
example from above:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_command</span><span class="o">.</span><span class="n">get_hardware_info</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>which prints as:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">    &quot;model_number&quot; : &quot;62&quot;,</span>
<span class="go">    &quot;model_name&quot; : &quot;HERO12 Black&quot;,</span>
<span class="go">    &quot;firmware_version&quot; : &quot;H23.01.01.99.54&quot;,</span>
<span class="go">    &quot;serial_number&quot; : &quot;C3501324500711&quot;,</span>
<span class="go">    &quot;ap_mac_addr&quot; : &quot;2674f7f65f38&quot;,</span>
<span class="go">    &quot;ap_ssid&quot; : &quot;GP24500711&quot;,</span>
<span class="go">}</span>
</pre></div>
</div>
</section>
</section>
<section id="closing">
<h2>Closing<a class="headerlink" href="#closing" title="Link to this heading"></a></h2>
<p>It is important to close the camera resource when you are done with it. This can be done in two ways. If the context
manager was used, it will automatically be closed when exiting, i.e.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">WirelessGoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="c1"># Do some things.</span>
    <span class="k">pass</span>
    <span class="c1"># Then when finished...</span>
<span class="c1"># The camera resource is closed now!!</span>
</pre></div>
</div>
<p>Otherwise, you will need to manually call the <cite>close</cite> method, i.e.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gopro</span> <span class="o">=</span> <span class="n">WirelessGoPro</span><span class="p">()</span>
<span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Yay! I&#39;m connected via BLE, Wifi, opened, and ready to send / get data now!&quot;</span><span class="p">)</span>
<span class="c1"># When we&#39;re done...</span>
<span class="k">await</span> <span class="n">gopro</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="c1"># The camera resource is closed now!!</span>
</pre></div>
</div>
<p>The <cite>close</cite> method will handle gracefully disconnecting BLE and Wifi.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the resource is not closed correctly, it is possible that your OS will maintain the BLE connection after
the program exits. This will cause reconnection problems as your OS will not discover devices it is
already connected to.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quickstart.html" class="btn btn-neutral float-left" title="QuickStart Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, GoPro Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>