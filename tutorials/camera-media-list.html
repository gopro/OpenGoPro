<!DOCTYPE html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
--><html lang="en-US" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Tutorial 8: Camera Media List :  Open GoPro</title>
<meta name="description" content="This document will provide a walk-through tutorial to send Open GoPro HTTP commands to the GoPro, specifically to get the media list and perform operations on it (downloading pictures, videos, etc.)">


  <meta name="author" content="GoPro">
  
  <meta property="article:author" content="GoPro">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Open GoPro">
<meta property="og:title" content="Tutorial 8: Camera Media List">
<meta property="og:url" content="https://gopro.github.io/OpenGoPro/tutorials/camera-media-list">


  <meta property="og:description" content="This document will provide a walk-through tutorial to send Open GoPro HTTP commands to the GoPro, specifically to get the media list and perform operations on it (downloading pictures, videos, etc.)">







  <meta property="article:published_time" content="2025-03-25T10:02:01-07:00">






<link rel="canonical" href="https://gopro.github.io/OpenGoPro/tutorials/camera-media-list">












<!-- end _includes/seo.html -->


<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="text/javascript">
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/OpenGoPro/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>


  
    <script src="/OpenGoPro/assets/js/tabs.js"></script>
  
    <script src="/OpenGoPro/assets/js/quiz.js"></script>
  
    <script src="/OpenGoPro/assets/js/accordion.js"></script>
  


    <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
    // Add anchors on DOMContentLoaded
    document.addEventListener('DOMContentLoaded', function (event) {
        var manualAnchors = new AnchorJS();
        manualAnchors.options = {
            titleText: 'Permalink',
            placement: 'left'
        };
        manualAnchors.add('.anchored');
    });
</script>
<link rel="apple-touch-icon" sizes="180x180" href="/OpenGoPro/assets/images/logos/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/OpenGoPro/assets/images/logos/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/OpenGoPro/assets/images/logos/favicon-16x16.png">
<link rel="manifest" href="/OpenGoPro/assets/images/logos/site.webmanifest">
<link rel="mask-icon" href="/OpenGoPro/assets/images/logos/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/OpenGoPro/assets/images/logos/favicon.ico">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="msapplication-config" content="/assets/images/logos/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/OpenGoPro/"><img src="/OpenGoPro/assets/images/logos/logo.png" alt="Open GoPro"></a>
        
        <a class="site-title" href="/OpenGoPro/">
          Open GoPro
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/OpenGoPro/">Home</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/ble/">BLE Spec</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/http">HTTP Spec</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/tutorials">Tutorials</a>
            </li>
<li class="masthead__menu-item">
              <a href="https://github.com/gopro/OpenGoPro/tree/main/demos">Demos</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/faq">FAQ</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/OpenGoPro/" itemprop="item"><span itemprop="name">Home</span></a>

          <meta itemprop="position" content="1">
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/OpenGoPro/tutorials" itemprop="item"><span itemprop="name">Tutorials</span></a>
          <meta itemprop="position" content="2">
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Tutorial 8: Camera Media List</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="https://gopro.github.io/OpenGoPro/">
        <img src="/OpenGoPro/assets/images/logos/logo_square.png" alt="GoPro" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="https://gopro.github.io/OpenGoPro/" itemprop="url">GoPro</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Be a <strong>hero</strong>.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">US</span>
        </li>
      

      
        
          
            <li><a href="https://www.gopro.com" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://twitter.com/GoPro" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.facebook.com/gopro/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i><span class="label">Facebook</span></a></li>
          
        
          
            <li><a href="https://github.com/gopro" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.instagram.com/gopro/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox">
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      
      
        <li>
          
            <a href="/OpenGoPro/tutorials/connect-ble"><span class="nav__sub-title">1: Connect BLE</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/OpenGoPro/tutorials/send-ble-commands"><span class="nav__sub-title">2: Send BLE Commands</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/OpenGoPro/tutorials/parse-ble-responses"><span class="nav__sub-title">3: Parse BLE TLV Responses</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/OpenGoPro/tutorials/ble-queries"><span class="nav__sub-title">4: BLE Queries</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/OpenGoPro/tutorials/ble-protobuf"><span class="nav__sub-title">5: BLE Protobuf</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/OpenGoPro/tutorials/connect-wifi"><span class="nav__sub-title">6: Connect WiFi</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/OpenGoPro/tutorials/send-wifi-commands"><span class="nav__sub-title">7: Send WiFi Commands</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/OpenGoPro/tutorials/camera-media-list"><span class="nav__sub-title">8: Camera Media List</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/OpenGoPro/tutorials/cohn"><span class="nav__sub-title">9: Camera on the Home Network</span></a>
          

          
        </li>
      
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Tutorial 8: Camera Media List">
    <meta itemprop="description" content="This document will provide a walk-through tutorial to send Open GoPro HTTP commands to the GoPro,specifically to get the media list and perform operations on it (downloading pictures, videos, etc.)">
    <meta itemprop="datePublished" content="2025-03-25T10:02:01-07:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://gopro.github.io/OpenGoPro/tutorials/camera-media-list" itemprop="url">Tutorial 8: Camera Media List
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
<li><a href="#requirements">Requirements</a></li>
<li><a href="#just-show-me-the-demos">Just Show me the Demo(s)!!</a></li>
<li><a href="#setup">Setup</a></li>
<li><a href="#get-media-list">Get Media List</a></li>
<li>
<a href="#media-list-operations">Media List Operations</a><ul>
<li><a href="#download-media-file">Download Media File</a></li>
<li><a href="#get-media-thumbnail">Get Media Thumbnail</a></li>
</ul>
</li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#good-job">Good Job!</a></li>
</ul>
            </nav>
          </aside>
        
        <p>This document will provide a walk-through tutorial to send Open GoPro <a href="/OpenGoPro/http">HTTP commands</a> to the GoPro,
specifically to get the media list and perform operations on it (downloading pictures, videos, etc.)</p>

<div class="callout tip">
<i class="fa fa-tools fa-2x" style="color: #ebc21c; margin: 0.25em;"></i><span>It is suggested that you have first completed the
<a href="/OpenGoPro/tutorials/connect-wifi">Connecting to Wifi</a>
and <a href="/OpenGoPro/tutorials/send-wifi-commands">Sending WiFi Commands</a> tutorials.</span>
</div>

<p>This tutorial only considers sending these commands as one-off commands. That is, it does not consider state
management / synchronization when sending multiple commands. This will be discussed in a future tutorial.</p>

<h1 id="requirements">Requirements</h1>

<p>It is assumed that the hardware and software requirements from the
<a href="/OpenGoPro/tutorials/connect-ble#requirements">connecting BLE tutorial</a> are present and
configured correctly.</p>

<p>The scripts that will be used for this tutorial can be found in the
<a href="https://github.com/gopro/OpenGoPro/tree/main/demos/python/tutorial/tutorial_modules/tutorial_8_camera_media_list">Tutorial 8 Folder</a>.</p>

<h1 id="just-show-me-the-demos">Just Show me the Demo(s)!!</h1>

<div>
    <ul class="tab tab-linked" data-tab="21d8e115-0930-432c-8f86-3eda5eda0c0a">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="21d8e115-0930-432c-8f86-3eda5eda0c0a">
        
            <li class="active tab-content-container">
<p>Each of the scripts for this tutorial can be found in the Tutorial 8
<a href="https://github.com/gopro/OpenGoPro/tree/main/demos/python/tutorial/tutorial_modules/tutorial_8_camera_media_list/">directory</a>.</p>

<div class="callout warning">
<i class="fa fa-exclamation-triangle fa-2x" style="color: #df5142; margin: 0.25em;"></i><span>Python &gt;= 3.9 and &lt; 3.12 must be used as specified in the requirements</span>
</div>

<div class="callout warning">
<i class="fa fa-exclamation-triangle fa-2x" style="color: #df5142; margin: 0.25em;"></i><span>You must be connected to the camera via WiFi in order to run these scripts. You can do this by manually to the SSID
and password listed on your camera or by leaving the
<code class="language-plaintext highlighter-rouge">Establish Connection to WiFi AP</code> script from
<a href="/OpenGoPro/tutorials/connect-wifi#just-show-me-the-demos">Tutorial 5</a> running in the background.</span>
</div>

<div class="accordion-container anchored">
    <button class="accordion">Download Media File<i class="fa fa-chevron-down"></i></button>
    <div class="panel">
<p>You can downloading a file from your camera with HTTP over WiFi using the following script:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python wifi_media_download_file.py
</code></pre></div></div>

<p>See the help for parameter definitions:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python wifi_media_download_file.py <span class="nt">--help</span>
<span class="go">usage: wifi_media_download_file.py [-h]

Find a photo on the camera and download it to the computer.

optional arguments:
  -h, --help  show this help message and exit
</span></code></pre></div></div>

</div>
</div>

<div class="accordion-container anchored">
    <button class="accordion">Get Media Thumbnail<i class="fa fa-chevron-down"></i></button>
    <div class="panel">
<p>You can downloading the thumbnail for a media file from your camera with HTTP over WiFi using the following script:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python wifi_media_get_thumbnail.py
</code></pre></div></div>

<p>See the help for parameter definitions:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python wifi_media_get_thumbnail.py <span class="nt">--help</span>
<span class="go">usage: wifi_media_get_thumbnail.py [-h]

Get the thumbnail for a media file.

optional arguments:
  -h, --help  show this help message and exit
</span></code></pre></div></div>

</div>
</div>

</li>
        
            <li class="tab-content-container">
<p>The Kotlin file for this tutorial can be found on
<a href="https://github.com/gopro/OpenGoPro/tree/main/demos/kotlin/tutorial/app/src/main/java/com/example/open_gopro_tutorial/tutorials/Tutorial7CameraMediaList.kt">Github</a>.</p>

<p>To perform the tutorial, run the Android Studio project, select “Tutorial 8” from the dropdown and click on “Perform.”
This requires:</p>

<ul>
  <li>a GoPro is already connected via BLE, i.e. that Tutorial 1 was already run.</li>
  <li>a GoPro is already connected via Wifi, i.e. that Tutorial 5 was already run.</li>
</ul>

<p>You can check the BLE and Wifi statuses at the top of the app.</p>

<figure class="" style="
        display: block;
        text-align: center;
        margin: 10px auto;
    ">
    <img src="/OpenGoPro/assets/images/tutorials/kotlin/tutorial_8.png" alt="kotlin_tutorial_8" style="
            width: 40%;
            display: block;
            margin-left: auto;
            margin-right: auto;
        "><figcaption>
            Perform Tutorial 8

        </figcaption></figure>

<p>This will start the tutorial and log to the screen as it executes. When the tutorial is complete, click
“Exit Tutorial” to return to the Tutorial selection screen.</p>

</li>
        
    </ul>
</div>

<h1 id="setup">Setup</h1>

<p>We must first connect to The GoPro’s WiFi Access Point (AP) as was discussed in the
<a href="/OpenGoPro/tutorials/connect-wifi">Connecting to Wifi</a> tutorial.</p>

<h1 id="get-media-list">Get Media List</h1>

<p>Now that we are are connected via WiFi, we will get the media list using the same procedure
to send HTTP commands as in the
<a href="/OpenGoPro/tutorials/send-wifi-commands">previous tutorial</a>.</p>

<p>We get the media list via <a href="/OpenGoPro/http#tag/Media/operation/OGP_MEDIA_LIST">Get Media List</a>.
This will return a JSON structure of all of the media files (pictures, videos) on the camera with
corresponding information about each media file.</p>

<p>Let’s build the endpoint, send the GET request, and check the response for errors. Any errors will raise
an exception.</p>

<div>
    <ul class="tab tab-linked" data-tab="339a0f96-3cd0-4900-a6ff-926ca89177b7">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="339a0f96-3cd0-4900-a6ff-926ca89177b7">
        
            <li class="active tab-content-container">
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sh">"</span><span class="s">/gopro/media/list</span><span class="sh">"</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

</li>
        
            <li class="tab-content-container">
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">val</span> <span class="n">response</span> <span class="o">=</span> <span class="n">wifi</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sh">"</span><span class="s">gopro/media/list</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

</li>
        
    </ul>
</div>

<p>Lastly, we print the response’s JSON data:</p>

<div>
    <ul class="tab tab-linked" data-tab="f9e786fd-d118-4265-b858-a4771fa63aed">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="f9e786fd-d118-4265-b858-a4771fa63aed">
        
            <li class="active tab-content-container">
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p>The response will log as such (abbreviated for brevity):</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO:root:Getting the media list: sending http://10.5.5.9:8080/gopro/media/list
INFO:root:Command sent successfully
INFO:root:Response: {
    "id": "2510746051348624995",
    "media": [
        {
            "d": "100GOPRO",
            "fs": [
                {
                    "n": "GOPR0987.JPG",
                    "cre": "1618583762",
                    "mod": "1618583762",
                    "s": "5013927"
                },
                {
                    "n": "GOPR0988.JPG",
                    "cre": "1618583764",
                    "mod": "1618583764",
                    "s": "5009491"
                },
                {
                    "n": "GOPR0989.JPG",
                    "cre": "1618583766",
                    "mod": "1618583766",
                    "s": "5031861"
                },
                {
                    "n": "GX010990.MP4",
                    "cre": "1451608343",
                    "mod": "1451608343",
                    "glrv": "806586",
                    "ls": "-1",
                    "s": "10725219"
                },
</span></code></pre></div></div>

</li>
        
            <li class="tab-content-container">
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Timber</span><span class="p">.</span><span class="nf">i</span><span class="p">(</span><span class="s">"Files in media list: ${prettyJson.encodeToString(fileList)}"</span><span class="p">)</span>
</code></pre></div></div>

<p>The response will log as such (abbreviated for brevity):</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">GET request to: http://10.5.5.9:8080/gopro/media/list
Complete media list: {
    "id": "4386457835676877283",
    "media": [
        {
            "d": "100GOPRO",
            "fs": [
                {
                    "n": "GOPR0232.JPG",
                    "cre": "1748997965",
                    "mod": "1748997965",
                    "s": "7618898"
                },
                {
                    "n": "GOPR0233.JPG",
                    "cre": "1748998273",
                    "mod": "1748998273",
                    "s": "7653472"
                },
</span><span class="c">                ...
</span><span class="go">                {
                    "n": "GX010259.MP4",
                    "cre": "1677828860",
                    "mod": "1677828860",
                    "glrv": "943295",
                    "ls": "-1",
                    "s": "9788009"
                }
            ]
        }
    ]
}
</span></code></pre></div></div>

</li>
        
    </ul>
</div>

<p>The media list format is defined in the <a href="/OpenGoPro/http#schema/MediaList">Media Model</a>.
We won’t be rehashing that here but will provide examples below of using the media list.</p>

<p>One common functionality is to get the list of media file names, which can be done as such:</p>

<div>
    <ul class="tab tab-linked" data-tab="659f113e-0049-452b-a1a7-15ac484d7c08">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="659f113e-0049-452b-a1a7-15ac484d7c08">
        
            <li class="active tab-content-container">
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="sh">"</span><span class="s">n</span><span class="sh">"</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">media_list</span><span class="p">[</span><span class="sh">"</span><span class="s">media</span><span class="sh">"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="sh">"</span><span class="s">fs</span><span class="sh">"</span><span class="p">]])</span>
</code></pre></div></div>

<p>That is, access the list at the <strong>fs</strong> tag at the first element of the <strong>media</strong> tag, then
make a list
of all of the names (<strong>n</strong> tag of each element) in the <strong>fs</strong> list.</p>
</li>
        
            <li class="tab-content-container">
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">fileList</span> <span class="p">=</span>
    <span class="n">response</span><span class="p">[</span><span class="s">"media"</span><span class="p">]</span><span class="o">?.</span><span class="n">jsonArray</span><span class="o">?.</span><span class="nf">first</span><span class="p">()</span><span class="o">?.</span><span class="n">jsonObject</span><span class="o">?.</span><span class="k">get</span><span class="p">(</span><span class="s">"fs"</span><span class="p">)</span><span class="o">?.</span><span class="n">jsonArray</span><span class="o">?.</span><span class="nf">map</span> <span class="p">{</span> <span class="n">mediaEntry</span> <span class="p">-&gt;</span>
        <span class="n">mediaEntry</span><span class="p">.</span><span class="n">jsonObject</span><span class="p">[</span><span class="s">"n"</span><span class="p">]</span>
    <span class="p">}</span><span class="o">?.</span><span class="nf">map</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="nf">toString</span><span class="p">().</span><span class="nf">replace</span><span class="p">(</span><span class="s">"\""</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span> <span class="p">}</span>
</code></pre></div></div>

<p>That is:</p>

<ol>
  <li>Access the JSON array at the <strong>fs</strong> tag at the first element of the <strong>media</strong> tag</li>
  <li>Make a list of all of the names (<strong>n</strong> tag of each element) in the <strong>fs</strong> list.</li>
  <li>Map this list to string and remove backslashes</li>
  <li>
</li>
</ol>
</li>
        
    </ul>
</div>

<h1 id="media-list-operations">Media List Operations</h1>

<p>Whereas all of the WiFi commands described until now have returned JSON responses, most of
the media list operations return binary data. From an HTTP perspective, the behavior is the same. However,
the GET response will contain a large binary chunk of information so we will loop through it with the
<code class="language-plaintext highlighter-rouge">requests</code> library as such, writing up to 8 kB at a time:</p>

<svg class="plantuml" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="303px" preserveaspectratio="none" style="width:459px;height:303px;background:#FFFFFF;" version="1.1" viewbox="0 0 459 303" width="459px" zoomandpan="magnify"><defs></defs><g><rect fill="#FFFFFF" height="68.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="158.5" y="189.9609"></rect><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="389.5" y="160.8281"></rect><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="255" x="10" y="204.9609"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="36.2969" y2="268.2266"></line><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="163" x2="163" y1="36.2969" y2="268.2266"></line><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="394" x2="394" y1="36.2969" y2="268.2266"></line><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42" x="20" y="5"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthadjust="spacing" textlength="28" x="27" y="24.9951">disk</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42" x="20" y="267.2266"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthadjust="spacing" textlength="28" x="27" y="287.2217">disk</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="72" y="5"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthadjust="spacing" textlength="169" x="79" y="24.9951">Open GoPro user device</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="72" y="267.2266"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthadjust="spacing" textlength="169" x="79" y="287.2217">Open GoPro user device</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="366" y="5"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthadjust="spacing" textlength="43" x="373" y="24.9951">GoPro</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="366" y="267.2266"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthadjust="spacing" textlength="43" x="373" y="287.2217">GoPro</text><rect fill="#FFFFFF" height="68.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="158.5" y="189.9609"></rect><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="389.5" y="160.8281"></rect><path d="M106,51.2969 L106,76.2969 L452,76.2969 L452,61.2969 L442,51.2969 L106,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M442,51.2969 L442,61.2969 L452,61.2969 L442,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthadjust="spacing" textlength="154" x="197.5" y="68.3638">PC connected to WiFi AP</text><line style="stroke:#181818;stroke-width:1.0;" x1="392.5" x2="382.5" y1="102.5625" y2="98.5625"></line><line style="stroke:#181818;stroke-width:1.0;" x1="392.5" x2="382.5" y1="102.5625" y2="106.5625"></line><line style="stroke:#181818;stroke-width:1.0;" x1="163.5" x2="393.5" y1="102.5625" y2="102.5625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthadjust="spacing" textlength="130" x="170.5" y="97.4966">Get Media List (GET)</text><line style="stroke:#181818;stroke-width:1.0;" x1="164.5" x2="174.5" y1="131.6953" y2="127.6953"></line><line style="stroke:#181818;stroke-width:1.0;" x1="164.5" x2="174.5" y1="131.6953" y2="135.6953"></line><line style="stroke:#181818;stroke-width:1.0;" x1="163.5" x2="393.5" y1="131.6953" y2="131.6953"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthadjust="spacing" textlength="160" x="180.5" y="126.6294">Media List (HTTP 200 OK)</text><line style="stroke:#181818;stroke-width:1.0;" x1="387.5" x2="377.5" y1="160.8281" y2="156.8281"></line><line style="stroke:#181818;stroke-width:1.0;" x1="387.5" x2="377.5" y1="160.8281" y2="164.8281"></line><line style="stroke:#181818;stroke-width:1.0;" x1="163.5" x2="388.5" y1="160.8281" y2="160.8281"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthadjust="spacing" textlength="162" x="170.5" y="155.7622">Command Request (GET)</text><line style="stroke:#181818;stroke-width:1.0;" x1="169.5" x2="179.5" y1="189.9609" y2="185.9609"></line><line style="stroke:#181818;stroke-width:1.0;" x1="169.5" x2="179.5" y1="189.9609" y2="193.9609"></line><line style="stroke:#181818;stroke-width:1.0;" x1="168.5" x2="393.5" y1="189.9609" y2="189.9609"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthadjust="spacing" textlength="202" x="185.5" y="184.895">Binary Response (HTTP 200 OK)</text><path d="M10,204.9609 L87,204.9609 L87,212.0938 L77,222.0938 L10,222.0938 L10,204.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="255" x="10" y="204.9609"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthadjust="spacing" textlength="32" x="25" y="218.0278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthadjust="spacing" textlength="139" x="102" y="217.1714">[write until complete]</text><line style="stroke:#181818;stroke-width:1.0;" x1="42" x2="52" y1="243.2266" y2="239.2266"></line><line style="stroke:#181818;stroke-width:1.0;" x1="42" x2="52" y1="243.2266" y2="247.2266"></line><line style="stroke:#181818;stroke-width:1.0;" x1="41" x2="157.5" y1="243.2266" y2="243.2266"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthadjust="spacing" textlength="76" x="58" y="238.1606">write &lt;= 8K</text></g></svg>

<h2 id="download-media-file">Download Media File</h2>

<p>TODO Handle directory in media list.</p>

<p>The next command we will be sending is
<a href="/OpenGoPro/http#tag/Media/operation/OGP_DOWNLOAD_MEDIA">Download Media</a>. Specifically, we
will be downloading a photo. The camera must have at least one photo in its media list in order for this to work.</p>

<p>First, we get the media list as in
<a href="/OpenGoPro/tutorials/camera-media-list#get-media-list">Get Media List</a> .
Then we search through the list of file names in the media list looking for a photo (i.e. a file whose name
ends in <strong>.jpg</strong>). Once we find a photo, we proceed:</p>

<div>
    <ul class="tab tab-linked" data-tab="4ded1ac5-5d1a-4c10-9b48-6a0e4a3568d5">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="4ded1ac5-5d1a-4c10-9b48-6a0e4a3568d5">
        
            <li class="active tab-content-container">
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">media_list</span> <span class="o">=</span> <span class="nf">get_media_list</span><span class="p">()</span>

<span class="n">photo</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="k">for</span> <span class="n">media_file</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="sh">"</span><span class="s">n</span><span class="sh">"</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">media_list</span><span class="p">[</span><span class="sh">"</span><span class="s">media</span><span class="sh">"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="sh">"</span><span class="s">fs</span><span class="sh">"</span><span class="p">]]:</span>
    <span class="k">if</span> <span class="n">media_file</span><span class="p">.</span><span class="nf">lower</span><span class="p">().</span><span class="nf">endswith</span><span class="p">(</span><span class="sh">"</span><span class="s">.jpg</span><span class="sh">"</span><span class="p">):</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">found a photo: </span><span class="si">{</span><span class="n">media_file</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">photo</span> <span class="o">=</span> <span class="n">media_file</span>
        <span class="k">break</span>
</code></pre></div></div>

</li>
        
            <li class="tab-content-container">
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">photo</span> <span class="p">=</span> <span class="n">fileList</span><span class="o">?.</span><span class="nf">firstOrNull</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="nf">endsWith</span><span class="p">(</span><span class="n">ignoreCase</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">suffix</span> <span class="p">=</span> <span class="s">"jpg"</span><span class="p">)</span> <span class="p">}</span>
    <span class="o">?:</span> <span class="k">throw</span> <span class="nc">Exception</span><span class="p">(</span><span class="s">"Not able to find a .jpg in the media list"</span><span class="p">)</span>
<span class="nc">Timber</span><span class="p">.</span><span class="nf">i</span><span class="p">(</span><span class="s">"Found a photo: $photo"</span><span class="p">)</span>
</code></pre></div></div>

</li>
        
    </ul>
</div>

<p>Now let’s build the endpoint, send the GET request, and check the response for errors. Any errors will raise
an exception.</p>

<div class="callout tip">
<i class="fa fa-tools fa-2x" style="color: #ebc21c; margin: 0.25em;"></i><span>The endpoint will start with “videos” for both photos and videos</span>
</div>

<div>
    <ul class="tab tab-linked" data-tab="09b33a3b-5d02-4010-b0dc-46aa9920b715">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="09b33a3b-5d02-4010-b0dc-46aa9920b715">
        
            <li class="active tab-content-container">
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sa">f</span><span class="sh">"</span><span class="s">videos/DCIM/100GOPRO/</span><span class="si">{</span><span class="n">photo</span><span class="si">}</span><span class="sh">"</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
    <span class="n">request</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we iterate through the binary content in 8 kB chunks, writing to a local file:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">file</span> <span class="o">=</span> <span class="n">photo</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="sh">"</span><span class="s">.jpg</span><span class="sh">"</span>
<span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="sh">"</span><span class="s">wb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">receiving binary stream to </span><span class="si">{</span><span class="nb">file</span><span class="si">}</span><span class="s">...</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">request</span><span class="p">.</span><span class="nf">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">8192</span><span class="p">):</span>
        <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</code></pre></div></div>

</li>
        
            <li class="tab-content-container">
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">return</span> <span class="n">wifi</span><span class="p">.</span><span class="nf">getFile</span><span class="p">(</span>
    <span class="nc">GOPRO_BASE_URL</span> <span class="p">+</span> <span class="s">"videos/DCIM/100GOPRO/$photo"</span><span class="p">,</span> <span class="n">appContainer</span><span class="p">.</span><span class="n">applicationContext</span>
<span class="p">)</span>
</code></pre></div></div>

<p>TODO FIX THIS</p>

</li>
        
    </ul>
</div>

<p>This will log as such:</p>

<div>
    <ul class="tab tab-linked" data-tab="d31c5fca-ff5d-4107-b79a-7786e841ffe3">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="d31c5fca-ff5d-4107-b79a-7786e841ffe3">
        
            <li class="active tab-content-container">
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO:root:found a photo: GOPR0987.JPG
INFO:root:Downloading GOPR0987.JPG
INFO:root:Sending: http://10.5.5.9:8080/videos/DCIM/100GOPRO/GOPR0987.JPG
INFO:root:receiving binary stream to GOPR0987.jpg...
</span></code></pre></div></div>

<p>Once complete, the <code class="language-plaintext highlighter-rouge">GOPR0987_thumbnail.jpg</code> file will be available from where the demo script was called.</p>
</li>
        
            <li class="tab-content-container">
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">Found a photo: GOPR0232.JPG
Downloading photo: GOPR0232.JPG...
</span></code></pre></div></div>

<p>Once complete, the photo will display in the tutorial window.</p>

</li>
        
    </ul>
</div>

<h2 id="get-media-thumbnail">Get Media Thumbnail</h2>

<p>The next command we will be sending is <a href="/OpenGoPro/http#tag/Media/operation/OGP_MEDIA_THUMBNAIL">Get Media thumbnail </a>.
Specifically, we will be getting the thumbnail for a photo. The camera must have at least one photo in its
media list in order for this to work.</p>

<div class="callout note">
<i class="fa fa-clipboard fa-2x" style="color: #3498db; margin: 0.25em;"></i><span>There is a separate commandto get a media “screennail”</span>
</div>

<p>First, we get the media list as in
<a href="/OpenGoPro/tutorials/camera-media-list#get-media-list">Get Media List</a> .
Then we search through the list of file names in the media list looking for a photo (i.e. a file whose name
ends in <strong>.jpg</strong>). Once we find a photo, we proceed:</p>

<div>
    <ul class="tab tab-linked" data-tab="fd0e56a0-fb9d-454a-a440-882b86b4901a">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="fd0e56a0-fb9d-454a-a440-882b86b4901a">
        
            <li class="active tab-content-container">
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">media_list</span> <span class="o">=</span> <span class="nf">get_media_list</span><span class="p">()</span>

<span class="n">photo</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="k">for</span> <span class="n">media_file</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="sh">"</span><span class="s">n</span><span class="sh">"</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">media_list</span><span class="p">[</span><span class="sh">"</span><span class="s">media</span><span class="sh">"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="sh">"</span><span class="s">fs</span><span class="sh">"</span><span class="p">]]:</span>
    <span class="k">if</span> <span class="n">media_file</span><span class="p">.</span><span class="nf">lower</span><span class="p">().</span><span class="nf">endswith</span><span class="p">(</span><span class="sh">"</span><span class="s">.jpg</span><span class="sh">"</span><span class="p">):</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">found a photo: </span><span class="si">{</span><span class="n">media_file</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">photo</span> <span class="o">=</span> <span class="n">media_file</span>
        <span class="k">break</span>
</code></pre></div></div>

</li>
        
            <li class="tab-content-container">
<p>TODO</p>
</li>
        
    </ul>
</div>

<p>Now let’s build the endpoint, send the GET request, and check the response for errors. Any errors will raise
an exception.</p>

<div>
    <ul class="tab tab-linked" data-tab="c41a8552-1931-4a9e-829d-8a737b98cbdf">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="c41a8552-1931-4a9e-829d-8a737b98cbdf">
        
            <li class="active tab-content-container">
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sa">f</span><span class="sh">"</span><span class="s">/gopro/media/thumbnail?path=100GOPRO/</span><span class="si">{</span><span class="n">photo</span><span class="si">}</span><span class="sh">"</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
    <span class="n">request</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we iterate through the binary content in 8 kB chunks, writing to a local file:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">file</span> <span class="o">=</span> <span class="n">photo</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="sh">"</span><span class="s">.jpg</span><span class="sh">"</span>
<span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="sh">"</span><span class="s">wb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">receiving binary stream to </span><span class="si">{</span><span class="nb">file</span><span class="si">}</span><span class="s">...</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">request</span><span class="p">.</span><span class="nf">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">8192</span><span class="p">):</span>
        <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</code></pre></div></div>

</li>
        
            <li class="tab-content-container">
<p>TODO</p>
</li>
        
    </ul>
</div>

<p>This will log as such:</p>

<div>
    <ul class="tab tab-linked" data-tab="1c439fb1-e34c-4371-b3a4-ffbf5c8ffc83">
        
            <li class="active">
                <a href="">python </a>
            </li>
        
            <li>
                <a href="">kotlin </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="1c439fb1-e34c-4371-b3a4-ffbf5c8ffc83">
        
            <li class="active tab-content-container">
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO:root:found a photo: GOPR0987.JPG
INFO:root:Getting the thumbnail for GOPR0987.JPG
INFO:root:Sending: http://10.5.5.9:8080/gopro/media/thumbnail?path=100GOPRO/GOPR0987.JPG
INFO:root:receiving binary stream to GOPR0987_thumbnail.jpg...
</span></code></pre></div></div>

</li>
        
            <li class="tab-content-container">
<p>TODO</p>
</li>
        
    </ul>
</div>

<h1 id="troubleshooting">Troubleshooting</h1>

<p>See the previous tutorial’s
<a href="/OpenGoPro/tutorials/send-wifi-commands#troubleshooting">troubleshooting section</a>.</p>

<h1 id="good-job">Good Job!</h1>

<div class="callout success">
<i class="fa fa-check-circle fa-2x" style="color: #2dcb71; margin: 0.25em;"></i><span>Congratulations 🤙</span>
</div>

<p>You can now query the GoPro’s media list and retrieve binary information for media file. This is currently
last tutorial. Stay tuned for more 👍</p>

<p>At this point you should be able to start creating a useful example using the Open GoPro Interface. For some
inspiration check out some of the <a href="https://github.com/gopro/OpenGoPro/tree/main/demos">demos</a>.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-03-25T10:02:01-07:00">March 25, 2025</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/OpenGoPro/tutorials/send-wifi-commands" class="pagination--pager" title="Tutorial 7: Send WiFi Commands
">Previous</a>
    
    
      <a href="/OpenGoPro/tutorials/cohn" class="pagination--pager" title="Tutorial 9: Camera on the Home Network
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
    <ul class="social-icons">
        
        <li><strong>Follow:</strong></li>
           
        <li>
            <a href="https://www.gopro.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i>
                Website</a>
        </li>
          
        <li>
            <a href="https://twitter.com/GoPro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i>
                Twitter</a>
        </li>
          
        <li>
            <a href="https://www.facebook.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i>
                Facebook</a>
        </li>
          
        <li>
            <a href="https://github.com/gopro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i>
                GitHub</a>
        </li>
          
        <li>
            <a href="https://www.instagram.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i>
                Instagram</a>
        </li>
           
    </ul>
</div>

<div class="page__footer-copyright">
    © 2025 GoPro. Powered by
    <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp;
    <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.
    <p>
        Can be used with GoPro® HERO9 and HERO10 cameras. You must include the following text on
        every page where it can be seen by someone purchasing such an item: <em>"This product
        and/or service is not affiliated with, endorsed by or in any way associated with
        GoPro Inc. or its products and services. GoPro, HERO, and their respective logos
        are trademarks or registered trademarks of GoPro, Inc."</em>
    </p>
</div>

      </footer>
    </div>

    
  <script src="/OpenGoPro/assets/js/main.min.js"></script>




<script src="/OpenGoPro/assets/js/lunr/lunr.min.js"></script>
<script src="/OpenGoPro/assets/js/lunr/lunr-store.js"></script>
<script src="/OpenGoPro/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
