<!DOCTYPE html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
--><html lang="en" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Python Tutorial 6: Send WiFi Commands :  Open GoPro</title>
<meta name="description" content="Python Tutorial 6: Send WiFi Commands">


  <meta name="author" content="GoPro">
  
  <meta property="article:author" content="GoPro">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Open GoPro">
<meta property="og:title" content="Python Tutorial 6: Send WiFi Commands">
<meta property="og:url" content="https://gopro.github.io/OpenGoPro/tutorials/python/send-wifi-commands">


  <meta property="og:description" content="Python Tutorial 6: Send WiFi Commands">







  <meta property="article:published_time" content="2021-12-16T16:01:20-08:00">






<link rel="canonical" href="https://gopro.github.io/OpenGoPro/tutorials/python/send-wifi-commands">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "GoPro",
      "url": "https://gopro.github.io/OpenGoPro/"
    
  }
</script>







<!-- end _includes/seo.html -->




<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/OpenGoPro/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>


  
    <script src="/OpenGoPro/assets/js/tabs.js"></script>
  
    <script src="/OpenGoPro/assets/js/quiz.js"></script>
  
    <script src="/OpenGoPro/assets/js/accordion.js"></script>
  


    <link rel="apple-touch-icon" sizes="180x180" href="/OpenGoPro/assets/images/logos/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/OpenGoPro/assets/images/logos/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/OpenGoPro/assets/images/logos/favicon-16x16.png">
<link rel="manifest" href="/OpenGoPro/assets/images/logos/site.webmanifest">
<link rel="mask-icon" href="/OpenGoPro/assets/images/logos/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/OpenGoPro/assets/images/logos/favicon.ico">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="msapplication-config" content="/assets/images/logos/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/OpenGoPro/"><img src="/OpenGoPro/assets/images/logos/logo.png" alt="Open GoPro"></a>
        
        <a class="site-title" href="/OpenGoPro/">
          Open GoPro
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/OpenGoPro/">Home</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/ble">BLE Specs</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/wifi">WiFi Specs</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/tutorials">Tutorials</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/demos">Demos</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/faq">FAQ</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://gopro.github.io/OpenGoPro/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1">
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/OpenGoPro/tutorials" itemprop="item"><span itemprop="name">Tutorials</span></a>
          <meta itemprop="position" content="2">
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/OpenGoPro/python" itemprop="item"><span itemprop="name">Python</span></a>
          <meta itemprop="position" content="3">
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Python Tutorial 6: Send WiFi Commands</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/OpenGoPro/assets/images/logos/logo_square.png" alt="GoPro" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">GoPro</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Be a <strong>hero</strong>.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">US</span>
        </li>
      

      
        
          
            <li><a href="https://www.gopro.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://twitter.com/GoPro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.facebook.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i><span class="label">Facebook</span></a></li>
          
        
          
            <li><a href="https://github.com/gopro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.instagram.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox">
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/connect-ble"><span class="nav__sub-title">1: Connect BLE</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/send-ble-commands"><span class="nav__sub-title">2: Send BLE Commands</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/parse-ble-responses"><span class="nav__sub-title">3: Parse BLE TLV Responses</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/ble-queries"><span class="nav__sub-title">4: BLE Queries</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/connect-wifi"><span class="nav__sub-title">5: Connect WiFi</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/send-wifi-commands"><span class="nav__sub-title">6: Send WiFi Commands</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/camera-media-list"><span class="nav__sub-title">7: Camera Media List</span></a>
        

        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Python Tutorial 6: Send WiFi Commands">
    <meta itemprop="description" content="Python Tutorial 6: Send WiFi Commands">
    <meta itemprop="datePublished" content="2021-12-16T16:01:20-08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Python Tutorial 6: Send WiFi Commands
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          13 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
<li><a href="#requirements">Requirements</a></li>
<li><a href="#just-show-me-the-demos">Just Show me the Demo(s)!!</a></li>
<li><a href="#setup">Setup</a></li>
<li>
<a href="#sending-http-commands-with-json-responses">Sending HTTP Commands with JSON Responses</a><ul>
<li><a href="#get-open-gopro-version">Get Open GoPro Version</a></li>
<li><a href="#digital-zoom">Digital Zoom</a></li>
<li><a href="#get-state">Get State</a></li>
<li><a href="#preview-stream">Preview Stream</a></li>
<li><a href="#load-preset-group">Load Preset Group</a></li>
<li><a href="#load-preset">Load Preset</a></li>
<li><a href="#get-preset-status">Get Preset Status</a></li>
<li><a href="#keep-alive">Keep Alive</a></li>
<li><a href="#set-shutter">Set Shutter</a></li>
<li><a href="#set-setting">Set Setting</a></li>
</ul>
</li>
<li>
<a href="#troubleshooting">Troubleshooting</a><ul><li><a href="#http-logging">HTTP Logging</a></li></ul>
</li>
<li><a href="#good-job">Good Job!</a></li>
</ul>

            </nav>
          </aside>
        
        <p>This document will provide a walk-through tutorial to use the Python <a href="https://pypi.org/project/requests/">requests</a>
package to send Open GoPro <a href="/OpenGoPro/wifi">HTTP commands</a> to the GoPro.</p>

<blockquote>
  <p>Note! It is required that you have first completed the <a href="/OpenGoPro/tutorials/python/connect-wifi">Connecting to Wifi</a> tutorial.</p>
</blockquote>

<p>This tutorial only considers sending these commands as one-off commands. That is, it does not consider state management /
synchronization when sending multiple commands. This will be discussed in a future lab.</p>

<p>There are two types of responses that can be received from the HTTP commands: JSON and binary. This section
will deal with commands that return JSON responses. For commands with binary responses (as well as commands with
JSON responses that work with the media list), see the <a href="/OpenGoPro/tutorials/python/camera-media-list">next tutorial</a>.</p>

<h1 id="requirements">Requirements</h1>

<p>It is assumed that the hardware and software requirements from the <a href="/OpenGoPro/tutorials/python/connect-ble#requirements">connect tutorial</a>
are present and configured correctly.</p>

<p>The scripts that will be used for this tutorial can be found in the
<a href="https://github.com/gopro/OpenGoPro/tree/main/demos/python/tutorial/tutorial_modules/tutorial_6_send_wifi_commands">Tutorial 6 Folder</a>.</p>

<h1 id="just-show-me-the-demos">Just Show me the Demo(s)!!</h1>

<p>Each of the commands detailed below has a corresponding script to demo it. If you don’t want to read this
tutorial and just want to see the demo, for example, run:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python wifi_command_zoom.py
</code></pre></div></div>

<blockquote>
  <p>Note! Python 3.8.x must be used as specified in <a href="/OpenGoPro/tutorials/python/connect-ble#requirements">the requirements</a></p>
</blockquote>

<p>Note that each script has a command-line help which can be found via:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python wifi_command_zoom.py <span class="nt">--help</span>
<span class="go">usage: wifi_command_zoom.py [-h] [-z ZOOM]

Set the digital zoom level.

optional arguments:
  -h, --help            show this help message and exit
  -z ZOOM, --zoom ZOOM  Zoom percentage (0-100)
</span></code></pre></div></div>

<h1 id="setup">Setup</h1>

<p>We must first connect to The GoPro’s WiFi Access Point (AP) as was discussed in the
<a href="/OpenGoPro/tutorials/python/connect-wifi">Connecting to Wifi</a> tutorial.</p>

<h1 id="sending-http-commands-with-json-responses">Sending HTTP Commands with JSON Responses</h1>

<p>Now that we are are connected via WiFi, we will use the <code class="language-plaintext highlighter-rouge">requests</code> module to send the various HTTP commands.</p>

<p>Both Command Requests and Setting Requests follow the same procedure:</p>

<ol>
  <li>Send HTTP GET command to appropriate endpoint</li>
  <li>Receive confirmation from GoPro (via HTTP response) that request was received.</li>
  <li>GoPro reacts to command</li>
</ol>

<div class="note">
<i class="fa fa-clipboard fa-2x" style="color: #3498db;margin: 0.25em;"></i><span>  The HTTP response only indicates that the request was received correctly. The relevant behavior of the
GoPro must be observed to verify when the command's effects have been applied.</span>
</div>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG5wYXJ0aWNpcGFudCBQQyBhcyBPcGVuIEdvUHJvIHVzZXIgZGV2aWNlXG5wYXJ0aWNpcGFudCBHb1Byb1xubm90ZSBvdmVyIEdvUHJvLCBQQzogUEMgY29ubmVjdGVkIHRvIFdpRmkgQVBcblBDIC0-PiBHb1BybzogQ29tbWFuZCBSZXF1ZXN0IChHRVQpXG5hY3RpdmF0ZSBHb1Byb1xuR29Qcm8gLT4-IFBDOiBDb21tYW5kIFJlc3BvbnNlIChIVFRQIDIwMCBPSylcbkdvUHJvIC0-PiBHb1BybzogQXBwbHkgYWZmZWN0cyBvZiBjb21tYW5kIHdoZW4gYWJsZVxuZGVhY3RpdmF0ZSBHb1BybyIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In19"></p>

<div class="tip">
<i class="fa fa-tools fa-2x" style="color: #ebc21c;margin: 0.25em;"></i><span>  We are building the endpoints using the GOPRO_BASE_URL defined in the tutorial package's `__init__.py`</span>
</div>

<h2 id="get-open-gopro-version">Get Open GoPro Version</h2>

<p>The first command we will be sending is
<a href="/OpenGoPro/wifi#commands-quick-reference">Get Version</a>. This should be the first command you send
after connecting.</p>

<div class="warning">
<i class="fa fa-exclamation-triangle fa-2x" style="color: #df5142;margin: 0.25em;"></i><span>  It is imperative to know the Open GoPro version that the connected camera supports as setting values,
endpoints, and more differ between versions</span>
</div>

<p>Let’s build the endpoint first send the Keep Alive signal:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sa">f</span><span class="s">"/gopro/version
</span></code></pre></div></div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we print the response’s JSON data (nicely formatted with indent 4 using the <code class="language-plaintext highlighter-rouge">json</code> module):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>This will log as such:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Getting the Open GoPro version: sending http://10.5.5.9:8080/gopro/version
INFO\:root\:Command sent successfully
INFO\:root\:Response: {
    "version": "2.0"
}
</span></code></pre></div></div>

<p>In this case, this camera supports version 2.0 of the Open GoPro spec. We will an example of why this is important in the Set Setting section
<a href="#set-setting">below</a>.</p>

<h2 id="digital-zoom">Digital Zoom</h2>

<p>The next command we will be sending is
<a href="/OpenGoPro/wifi#commands-quick-reference">Digital Zoom</a>. The camera
must be in the <a href="/OpenGoPro/tutorials/python/send-ble-commands#load-preset-group">Photo Preset Group</a>
for this command to succeed. The commands writes to the following endpoint:</p>

<p><code class="language-plaintext highlighter-rouge">/gopro/camera/digital_zoom?percent=50</code></p>

<p>Let’s build the endpoint (in this example from the script, <strong>zoom</strong> is a command line argument that defaults to 50):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sa">f</span><span class="s">"gopro/camera/digital_zoom?percent=</span><span class="si">{</span><span class="n">zoom</span><span class="si">}</span><span class="s">"</span>
</code></pre></div></div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we print the response’s JSON data (nicely formatted with indent 4 using the <code class="language-plaintext highlighter-rouge">json</code> module):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>This will log as such:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Setting digital zoom to 50%: sending http://10.5.5.9:8080/gopro/camera/digital_zoom?percent=50
INFO\:root\:Command sent successfully
INFO\:root\:Response: {}
</span></code></pre></div></div>

<div class="success">
<i class="fa fa-check-circle fa-2x" style="color: #2dcb71;margin: 0.25em;"></i><span>  The response JSON is empty. This is expected in the case of a success.</span>
</div>

<h2 id="get-state">Get State</h2>

<div>
    <ul class="tab" data-tab="7faed05c-3393-4952-b772-42cc6cf3796b">
        
            <li class="active">
                <a href="">Send Request </a>
            </li>
        
            <li>
                <a href="">Parse Response </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="7faed05c-3393-4952-b772-42cc6cf3796b">
        
            <li class="active">
<p>The next command we will be sending is
<a href="/OpenGoPro/wifi#commands-quick-reference">Get State</a>. This command will
return all of the current settings and values. It is basically a combination of the
<a href="/OpenGoPro/tutorials/python/ble-queries#query-all">Get All Settings</a> and
<a href="/OpenGoPro/tutorials/python/ble-queries#query-all">Get All Statuses</a>
commands that were sent via BLE. Since there is no way to query individual settings / statuses
via WiFi (or register for asynchronous notifications when they change), this is the only option to query
setting / status information via WiFi.</p>

<p>The command writes to the following endpoint:</p>

<p><code class="language-plaintext highlighter-rouge">/gopro/camera/state</code></p>

<p>Let’s first build the endpoint:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="s">"/gopro/camera/state"</span>
</code></pre></div></div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we print the response’s JSON data (nicely formatted with indent 4 using the <code class="language-plaintext highlighter-rouge">json</code> module):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>Go to the next tab for examples of viewing and parsing the response.</p>

</li>
        
            <li>
<p>The response will log as such (abbreviated for brevity):</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Getting GoPro's status and settings: sending http://10.5.5.9:8080/gopro/camera/state
INFO\:root\:Command sent successfully
INFO\:root\:Response: {
    "status": {
        "1": 1,
        "2": 2,
        "3": 0,
        "4": 255,
        "6": 0,
        "8": 0,
        "9": 0,
        "10": 0,
        "11": 0,
        "13": 0,
        "14": 0,
        "17": 1,

</span><span class="c">  ...
</span><span class="go">
  "settings": {
      "2": 9,
      "3": 1,
      "5": 0,
      "6": 1,
      "13": 1,
      "19": 0,
      "24": 0,
      "30": 0,
      "31": 0,
      "32": 10,
      "41": 9,
      "42": 5,
</span></code></pre></div></div>

<p>We can see what each of these values mean by looking at the
<a href="/OpenGoPro/ble#settings-quick-reference">Open GoPro Interface</a>.</p>

<p>For example (for settings):</p>

<ul>
  <li>ID 2 == 9 equates to Resolution == 1080</li>
  <li>ID 3 == 1 equates to FPS == 120</li>
</ul>

</li>
        
    </ul>
</div>

<h2 id="preview-stream">Preview Stream</h2>

<div>
    <ul class="tab" data-tab="30e55589-1030-493d-a29e-9ac216e2786a">
        
            <li class="active">
                <a href="">Send Request </a>
            </li>
        
            <li>
                <a href="">View Stream </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="30e55589-1030-493d-a29e-9ac216e2786a">
        
            <li class="active">
<p>The next command we will be sending is
<a href="/OpenGoPro/wifi#commands-quick-reference">Preview Stream</a>. This command will
enable (or disable) the preview stream . It is then possible to view the preview stream from a media player.</p>

<p>The commands write to the following endpoints:</p>

<table>
  <thead>
    <tr>
      <th>Command</th>
      <th>Endpoint</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>start preview stream</td>
      <td>/gopro/camera/stream/start</td>
    </tr>
    <tr>
      <td>stop preview stream</td>
      <td>/gopro/camera/stream/stop</td>
    </tr>
  </tbody>
</table>

<p>Let’s first build the endpoint:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="s">"/gopro/camera/stream/start"</span>
</code></pre></div></div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we print the response’s JSON data (nicely formatted with indent 4 using the <code class="language-plaintext highlighter-rouge">json</code> module):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>This will log as such:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Starting the preview stream: sending http://10.5.5.9:8080/gopro/camera/stream/start
INFO\:root\:Command sent successfully
INFO\:root\:Response: {}
</span></code></pre></div></div>

<div class="success">
<i class="fa fa-check-circle fa-2x" style="color: #2dcb71;margin: 0.25em;"></i><span>  The response JSON is empty. This is expected in the case of a success.</span>
</div>

<p>Go to the next tab for an example of viewing the stream.</p>

</li>
        
            <li>
<p>Once enabled, the stream can be viewed at <code class="language-plaintext highlighter-rouge">udp://@:8554</code>.</p>

<p>Here is an example of viewing this using <a href="https://www.videolan.org/">VLC</a>:</p>

<div class="note">
<i class="fa fa-clipboard fa-2x" style="color: #3498db;margin: 0.25em;"></i><span>  The screen may slightly vary depending on your OS</span>
</div>

<ol>
  <li>Select <strong>Media–&gt;Open Network Stream</strong>
</li>
  <li>Enter the path as such:</li>
</ol>

<figure class="" style="
        display: block;
        text-align: center;
        margin: 10px auto;
    ">
    <img src="/OpenGoPro/assets/images/tutorials/python/preview_stream.png" alt="Preview Stream" style="
            width: 70%;
            display: block;
            margin-left: auto;
            margin-right: auto;
        "><figcaption>
            Configure Preview Stream

        </figcaption></figure>

<ol>
  <li>Select play</li>
  <li>The preview stream should now be visible.</li>
</ol>

</li>
        
    </ul>
</div>

<h2 id="load-preset-group">Load Preset Group</h2>

<p>The next command we will be sending is
<a href="/OpenGoPro/wifi#commands-quick-reference">Load Preset Group</a>. which is
used to toggle between the 3 groups of presets (video, photo, and timelapse).</p>

<p>Let’s build the endpoint first to load the video preset group (the id comes from the command table linked above):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="s">"/gopro/camera/presets/set_group?id=1000"</span>
</code></pre></div></div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we print the response’s JSON data (nicely formatted with indent 4 using the <code class="language-plaintext highlighter-rouge">json</code> module):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>This will log as such:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Loading the video preset group: sending http://10.5.5.9:8080/gopro/camera/presets/set_group?id=1000
INFO\:root\:Command sent successfully
INFO\:root\:Response: {}
</span></code></pre></div></div>

<div class="success">
<i class="fa fa-check-circle fa-2x" style="color: #2dcb71;margin: 0.25em;"></i><span>  The response JSON is empty. This is expected in the case of a success.</span>
</div>

<p>You should hear the camera beep and move to the Video Preset Group. You can tell this by the logo at the top
middle of the screen:</p>

<figure class="" style="
        display: block;
        text-align: center;
        margin: 10px auto;
    ">
    <img src="/OpenGoPro/assets/images/tutorials/python/preset_group.png" alt="Preset Group" style="
            width: 50%;
            display: block;
            margin-left: auto;
            margin-right: auto;
        "><figcaption>
            Preset Group

        </figcaption></figure>

<h2 id="load-preset">Load Preset</h2>

<p>The next command we will be sending is
<a href="/OpenGoPro/wifi#commands-quick-reference">Load Preset</a>. which is
used to select a specific preset that is part of a Preset Group.</p>

<p>Let’s build the endpoint first to load the Cinematic Preset (the id comes from the command table linked above):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="s">"/gopro/camera/presets/load?id=2"</span>
</code></pre></div></div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we print the response’s JSON data (nicely formatted with indent 4 using the <code class="language-plaintext highlighter-rouge">json</code> module):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>This will log as such:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Loading the cinematic preset: sending http://10.5.5.9:8080/gopro/camera/presets/load?id=2
INFO\:root\:Command sent successfully
INFO\:root\:Response: {}
</span></code></pre></div></div>

<div class="success">
<i class="fa fa-check-circle fa-2x" style="color: #2dcb71;margin: 0.25em;"></i><span>  The response JSON is empty. This is expected in the case of a success.</span>
</div>

<p>You should hear the camera beep and switch to the Cinematic Preset (assuming it wasn’t already set). You can verify
this by seeing the preset name in the pill at bottom middle of the screen.</p>

<figure class="" style="
        display: block;
        text-align: center;
        margin: 10px auto;
    ">
    <img src="/OpenGoPro/assets/images/tutorials/python/preset.png" alt="Load Preset" style="
            width: 50%;
            display: block;
            margin-left: auto;
            margin-right: auto;
        "><figcaption>
            Load Preset

        </figcaption></figure>

<h2 id="get-preset-status">Get Preset Status</h2>

<div>
    <ul class="tab" data-tab="fbd75b67-9d97-4fdf-ad5a-3e8147f34512">
        
            <li class="active">
                <a href="">Send Request </a>
            </li>
        
            <li>
                <a href="">Parse Response </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="fbd75b67-9d97-4fdf-ad5a-3e8147f34512">
        
            <li class="active">
<p>The next command we will be sending is
<a href="/OpenGoPro/wifi#commands-quick-reference">Get Presets Status</a>. This
command is used to get the list of all currently available presets as well as the settings that comprise
each preset. This includes both default and user-defined presets.</p>

<p>Let’s first build the endpoint:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="s">"/gopro/camera/presets/get"</span>
</code></pre></div></div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we print the response’s JSON data (nicely formatted with indent 4 using the <code class="language-plaintext highlighter-rouge">json</code> module):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>Go to the next tab for examples of viewing and parsing the response.</p>

</li>
        
            <li>
<p>The response will log as such (abbreviated for brevity):</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Getting the current preset status: sending http://10.5.5.9:8080/gopro/camera/presets/get
INFO\:root\:Command sent successfully
INFO\:root\:Response: {
    "presetGroupArray": [
        {
            "id": "PRESET_GROUP_ID_VIDEO",
            "presetArray": [
                {
                    "id": 6,
                    "mode": "FLAT_MODE_LOOPING",
                    "titleId": "PRESET_TITLE_LOOPING",
                    "userDefined": true,
                    "icon": "PRESET_ICON_LOOPING",
                    "settingArray": [
                        {
                            "id": 2,
                            "value": 9,
                            "isCaption": true
                        },
                        {
                            "id": 3,
                            "value": 5,
                            "isCaption": true
                        },
                        {
                            "id": 6,
                            "value": 1,
                            "isCaption": true
                        },
                        {
                            "id": 121,
                            "value": 0,
                            "isCaption": true
                        }
                    ],
                    "isModified": false
                },
                {
                    "id": 0,
                    "mode": "FLAT_MODE_VIDEO",
                    "titleId": "PRESET_TITLE_STANDARD",
                    "userDefined": false,
                    "icon": "PRESET_ICON_VIDEO",
                    "settingArray": [
                        {
                            "id": 2,
                            "value": 24,
                            "isCaption": true
                        },
                        {
                            "id": 3,
                            "value": 8,
                            "isCaption": true
                        },
                        {
                            "id": 121,
                            "value": 0,
                            "isCaption": true
                        }
                    ],
                    "isModified": true
                },
</span></code></pre></div></div>

<p>The JSON <strong>presetGroupArray</strong> tag is a list of presets where each preset is comprised of
an ID, array of settings, and other descriptive information. In the example above, we can
see that there is a user-defined looping preset and a default video preset. For more
information on creating / using custom presets, see the
<a href="https://community.gopro.com/t5/en/How-to-Use-Presets/ta-p/712536">GoPro Community Article</a>.
A future lab may be created to demonstrate parsing this JSON directly into a protobuf-compiled object.</p>

<div class="note">
<i class="fa fa-clipboard fa-2x" style="color: #3498db;margin: 0.25em;"></i><span>  The settings shown above are parsed the same as they were in the Get State command above</span>
</div>

<p>As a reader exercise, try creating a custom preset on the camera and then using this command to view its
information.</p>

</li>
        
    </ul>
</div>

<h2 id="keep-alive">Keep Alive</h2>

<p>The next command we will be sending is
<a href="/OpenGoPro/wifi#commands-quick-reference">Keep Alive</a>. which is
used to prevent the camera from powering down. Unless changed by the user, GoPro cameras will automatically
power off after some time (e.g. 5min, 15min, 30min). The Auto Power Down watchdog timer can be reset by
periodically sending this message.</p>

<p>Let’s build the endpoint first send the Keep Alive signal:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sa">f</span><span class="s">"/gopro/camera/keep_alive"</span>
</code></pre></div></div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we print the response’s JSON data (nicely formatted with indent 4 using the <code class="language-plaintext highlighter-rouge">json</code> module):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>This will log as such:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Sending the keep alive signal: sending http://10.5.5.9:8080/gopro/camera/keep_alive
INFO\:root\:Command sent successfully
INFO\:root\:Response: {}
</span></code></pre></div></div>

<div class="tip">
<i class="fa fa-tools fa-2x" style="color: #ebc21c;margin: 0.25em;"></i><span>  It is recommended to send a keep-alive at least once every 120 seconds.</span>
</div>

<h2 id="set-shutter">Set Shutter</h2>

<p>The next command we will be sending is
<a href="/OpenGoPro/wifi#commands-quick-reference">Set Shutter</a>. which is
used to start and stop encoding.</p>

<p>Let’s build the endpoint first send the Set Shutter signal:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sa">f</span><span class="s">"/gopro/camera/shutter/start"</span>
</code></pre></div></div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<div class="note">
<i class="fa fa-clipboard fa-2x" style="color: #3498db;margin: 0.25em;"></i><span>  This command does not return a JSON response so we don't print the response</span>
</div>

<p>This will log as such:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Turning the shutter on: sending http://10.5.5.9:8080/gopro/camera/shutter/start
INFO\:root\:Command sent successfully
</span></code></pre></div></div>

<p>We then wait a few seconds and repeat the above procedure to set the shutter off. This time we use the following
URL:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sa">f</span><span class="s">"/gopro/camera/shutter/stop"</span>
</code></pre></div></div>

<div class="warning">
<i class="fa fa-exclamation-triangle fa-2x" style="color: #df5142;margin: 0.25em;"></i><span>  The shutter can not be set on if the camera is encoding or set off if the camera is not encoding. An
attempt to do so will result in an error response.</span>
</div>

<h2 id="set-setting">Set Setting</h2>

<p>The next command will be sending is <a href="/OpenGoPro/wifi#settings-quick-reference">Set Setting</a>.
This end point is used to update all of the settings on the camera. It is analogous to BLE commands like
<a href="/OpenGoPro/tutorials/python/send-ble-commands#set-the-video-resolution">Set Video Resolution</a>.</p>

<p>It is important to note that many settings are dependent on the video resolution (and other settings). For example,
certain FPS values are not valid with certain resolutions. In general, higher resolutions
only allow lower FPS values. Check the <a href="/OpenGoPro/ble#camera-capabilities">camera capabilities</a>
to see which settings are valid for given use cases.</p>

<div class="tip">
<i class="fa fa-tools fa-2x" style="color: #ebc21c;margin: 0.25em;"></i><span>  The following endpoint is different between Open GoPro 1.0 and 2.0.</span>
</div>

<p>Let’s build the endpoint first to set the Video Resolution to 1080 (the setting_id and opt_value comes from the command table linked above). Click the relevant tab for the desired Open GoPro Version.</p>

<div>
    <ul class="tab" data-tab="ccd0c345-e2f9-4f4a-8a82-663a51045409">
        
            <li class="active">
                <a href="">Version 1.0 </a>
            </li>
        
            <li>
                <a href="">Version 2.0 </a>
            </li>
        
        </ul>
        <ul class="tab-content" id="ccd0c345-e2f9-4f4a-8a82-663a51045409">
        
            <li class="active">
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sa">f</span><span class="s">"/gopro/camera/setting?setting_id=2&amp;opt_value=9"</span>
</code></pre></div></div>

</li>
        
            <li>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="n">GOPRO_BASE_URL</span> <span class="o">+</span> <span class="sa">f</span><span class="s">"/gopro/camera/setting?setting=2&amp;option=9"</span>
</code></pre></div></div>

</li>
        
    </ul>
</div>

<p>Now we send the GET request and check the response for errors. Any errors will raise an exception.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></div>

<p>Lastly, we print the response’s JSON data (nicely formatted with indent 4 using the <code class="language-plaintext highlighter-rouge">json</code> module):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Response: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>This will log as such:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO\:root\:Setting the video resolution to 1080: sending http://10.5.5.9:8080/gopro/camera/setting?setting_id=2&opt_value=9
INFO\:root\:Command sent successfully
INFO\:root\:Response: {}
</span></code></pre></div></div>

<div class="success">
<i class="fa fa-check-circle fa-2x" style="color: #2dcb71;margin: 0.25em;"></i><span>  The response JSON is empty. This is expected in the case of a success.</span>
</div>

<p>You should hear the camera beep and see the video resolution change to 1080 in the pill in the bottom-middle of the
screen:</p>

<figure class="" style="
        display: block;
        text-align: center;
        margin: 10px auto;
    ">
    <img src="/OpenGoPro/assets/images/tutorials/python/video_resolution.png" alt="Video Resolution" style="
            width: 50%;
            display: block;
            margin-left: auto;
            margin-right: auto;
        "><figcaption>
            Video Resolution

        </figcaption></figure>

<p>As a reader exercise, try using the [Get State] command to verify that the resolution has changed.</p>

<p><strong>Quiz time! 📚 ✏️</strong></p>

<div id="quiz_0e987ad7-0e21-4dc4-abfd-8e9b2410003e" class="quiz">
    <div>
        <div id="question_0e987ad7-0e21-4dc4-abfd-8e9b2410003e" class="quiz__question">What is the significance of empty JSON in an HTTP response?</div>
        <div id="answers_0e987ad7-0e21-4dc4-abfd-8e9b2410003e">
        
            <input type="radio" name="question" value="A"><label>A: Always an error! The command was not received correctly.</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: If the status is ok (200), this is expected.</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: This is expected for errors (code other than 200) but not expected for ok (200).</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('0e987ad7-0e21-4dc4-abfd-8e9b2410003e', 'B')">Submit Answer</button>
    <div id="results_0e987ad7-0e21-4dc4-abfd-8e9b2410003e" style="display: none">
        <span id="correct_0e987ad7-0e21-4dc4-abfd-8e9b2410003e" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_0e987ad7-0e21-4dc4-abfd-8e9b2410003e" style="display: none"> Incorrect!! 😭 The correct answer is B.</span>
        It is common for the JSON response to be empty if the command was received successfully
    but there is no additional information to return at the current time.
    </div>
</div>

<div id="quiz_ad38ef37-9ff2-4520-b333-2055e4a65452" class="quiz">
    <div>
        <div id="question_ad38ef37-9ff2-4520-b333-2055e4a65452" class="quiz__question">Which of the of the following is not a real preset group?</div>
        <div id="answers_ad38ef37-9ff2-4520-b333-2055e4a65452">
        
            <input type="radio" name="question" value="A"><label>A: Timelapse</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: Photo</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: Burst</label>
            <br>
        
            <input type="radio" name="question" value="D"><label>D: Video</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('ad38ef37-9ff2-4520-b333-2055e4a65452', 'C')">Submit Answer</button>
    <div id="results_ad38ef37-9ff2-4520-b333-2055e4a65452" style="display: none">
        <span id="correct_ad38ef37-9ff2-4520-b333-2055e4a65452" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_ad38ef37-9ff2-4520-b333-2055e4a65452" style="display: none"> Incorrect!! 😭 The correct answer is C.</span>
        There are 3 preset groups (Timelapse, Photo, and Video). These can be
    set via the Load Preset Group command.
    </div>
</div>

<div id="quiz_e0a2b060-4f20-469a-95eb-bec7c754393d" class="quiz">
    <div>
        <div id="question_e0a2b060-4f20-469a-95eb-bec7c754393d" class="quiz__question">What of the following sets of FPS values are possible at 5K?</div>
        <div id="answers_e0a2b060-4f20-469a-95eb-bec7c754393d">
        
            <input type="radio" name="question" value="A"><label>A: [24, 25, 30]</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: [24, 25, 30, 60]</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: [24, 25, 30, 60, 120]</label>
            <br>
        
            <input type="radio" name="question" value="D"><label>D: Any FPS is valid in at 5k</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('e0a2b060-4f20-469a-95eb-bec7c754393d', 'A')">Submit Answer</button>
    <div id="results_e0a2b060-4f20-469a-95eb-bec7c754393d" style="display: none">
        <span id="correct_e0a2b060-4f20-469a-95eb-bec7c754393d" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_e0a2b060-4f20-469a-95eb-bec7c754393d" style="display: none"> Incorrect!! 😭 The correct answer is A.</span>
        Among these options, only 24 is possible. You're not actually expected to know
    this. But you should know where to find the information: https://gopro.github.io/OpenGoPro/ble#camera-capabilities
    </div>
</div>

<h1 id="troubleshooting">Troubleshooting</h1>

<h2 id="http-logging">HTTP Logging</h2>

<p><a href="https://www.wireshark.org/">Wireshark</a> can be used to view the HTTP commands and responses
between the PC and the GoPro.</p>

<ol>
  <li>Start a Wireshark capture on the WiFi adapter that is used to connect to the GoPro</li>
  <li>Filter for the GoPro IP address (10.5.5.9)</li>
</ol>

<figure class="" style="
        display: block;
        text-align: center;
        margin: 10px auto;
    ">
    <img src="/OpenGoPro/assets/images/tutorials/python/wireshark.png" alt="Wireshark" style="
            width: 100%;
            display: block;
            margin-left: auto;
            margin-right: auto;
        "><figcaption>
            Wireshark

        </figcaption></figure>

<h1 id="good-job">Good Job!</h1>

<div class="success">
<i class="fa fa-check-circle fa-2x" style="color: #2dcb71;margin: 0.25em;"></i><span>  Congratulations 🤙</span>
</div>

<p>You can now send any of the HTTP commands defined in the
<a href="/OpenGoPro/wifi">Open GoPro Interface</a> that return JSON responses. You
may have noted that we did not discuss one of these (Get Media List) in this tutorial. Proceed to the
next tutorial to see how to get and perform operations using the media list.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-12-16T16:01:20-08:00">December 16, 2021</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/OpenGoPro/tutorials/python/connect-wifi" class="pagination--pager" title="Python Tutorial 5: Connect WiFi
">Previous</a>
    
    
      <a href="/OpenGoPro/tutorials/python/camera-media-list" class="pagination--pager" title="Python Tutorial 7: Camera Media List
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
    <ul class="social-icons">
           
        <li>
            <a href="https://www.gopro.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i>
                Website</a>
        </li>
          
        <li>
            <a href="https://twitter.com/GoPro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i>
                Twitter</a>
        </li>
          
        <li>
            <a href="https://www.facebook.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i>
                Facebook</a>
        </li>
          
        <li>
            <a href="https://github.com/gopro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i>
                GitHub</a>
        </li>
          
        <li>
            <a href="https://www.instagram.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i>
                Instagram</a>
        </li>
           
    </ul>
</div>

<div class="page__footer-copyright">
    © 2021 GoPro. Powered by
    <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp;
    <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.
    <p>
        Can be used with GoPro® HERO9 and HERO10 cameras. You must include the following text on
        every page where it can be seen by someone purchasing such an item: <em>"This product
        and/or service is not affiliated with, endorsed by or in any way associated with
        GoPro Inc. or its products and services. GoPro, HERO, and their respective logos
        are trademarks or registered trademarks of GoPro, Inc."</em>
    </p>
</div>

      </footer>
    </div>

    
  <script src="/OpenGoPro/assets/js/main.min.js"></script>




<script src="/OpenGoPro/assets/js/lunr/lunr.min.js"></script>
<script src="/OpenGoPro/assets/js/lunr/lunr-store.js"></script>
<script src="/OpenGoPro/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
